{"ast":null,"code":"import _classCallCheck from\"/Users/alina/dev/mesto-react-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/alina/dev/mesto-react-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var AuthApi=/*#__PURE__*/function(){function AuthApi(options){_classCallCheck(this,AuthApi);this._baseUrl=options.baseUrl;this._headers=options.headers;}_createClass(AuthApi,[{key:\"registerUser\",value:function registerUser(email,password){var _this=this;return fetch(\"\".concat(this._baseUrl,\"/signup\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({email:email,password:password})}).then(function(res){return _this._checkResponse(res);});}},{key:\"loginUser\",value:function loginUser(email,password){var _this2=this;return fetch(\"\".concat(this._baseUrl,\"/signin\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({email:email,password:password})}).then(function(res){return _this2._checkResponse(res);});}},{key:\"checkToken\",value:function checkToken(token){var _this3=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(function(res){return _this3._checkResponse(res);});}},{key:\"_checkResponse\",value:function _checkResponse(res){return res.ok?res.json():Promise.reject(\"\".concat(res.status,\" \").concat(res.statusText));}}]);return AuthApi;}();var authApi=new AuthApi({baseUrl:\"https://auth.nomoreparties.co\",headers:{\"Content-Type\":\"application/json\"}});export default authApi;","map":{"version":3,"names":["AuthApi","options","_classCallCheck","_baseUrl","baseUrl","_headers","headers","_createClass","key","value","registerUser","email","password","_this","fetch","concat","method","body","JSON","stringify","then","res","_checkResponse","loginUser","_this2","checkToken","token","_this3","Authorization","ok","json","Promise","reject","status","statusText","authApi"],"sources":["/Users/alina/dev/mesto-react-auth/src/utils/authApi.js"],"sourcesContent":["class AuthApi {\n    constructor(options) {\n        this._baseUrl = options.baseUrl\n        this._headers = options.headers\n    }\n\n    registerUser(email, password) {\n        return fetch(`${this._baseUrl}/signup`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({email, password}),\n        }).then(res => this._checkResponse(res));\n    }\n\n    loginUser(email, password) {\n        return fetch(`${this._baseUrl}/signin`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({email, password}),\n        }).then(res => this._checkResponse(res));\n    }\n\n    checkToken(token) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${token}`,\n            },\n        }).then(res => this._checkResponse(res));\n    }\n\n    _checkResponse(res) {\n        return res.ok\n            ? res.json()\n            : Promise.reject(`${res.status} ${res.statusText}`);\n    }\n}\n\nconst authApi = new AuthApi({\n    baseUrl: \"https://auth.nomoreparties.co\",\n    headers: {\n        \"Content-Type\": \"application/json\"\n    }\n});\n\nexport default authApi;"],"mappings":"+OAAM,CAAAA,OAAO,yBACT,SAAAA,QAAYC,OAAO,CAAE,CAAAC,eAAA,MAAAF,OAAA,EACjB,IAAI,CAACG,QAAQ,CAAGF,OAAO,CAACG,OAAO,CAC/B,IAAI,CAACC,QAAQ,CAAGJ,OAAO,CAACK,OAAO,CACnC,CAACC,YAAA,CAAAP,OAAA,GAAAQ,GAAA,gBAAAC,KAAA,CAED,SAAAC,aAAaC,KAAK,CAAEC,QAAQ,CAAE,KAAAC,KAAA,MAC1B,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACZ,QAAQ,YAAW,CACpCa,MAAM,CAAE,MAAM,CACdV,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtBY,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAACR,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAQ,CAAC,CAC1C,CAAC,CAAC,CAACQ,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAR,KAAI,CAACS,cAAc,CAACD,GAAG,CAAC,GAAC,CAC5C,CAAC,GAAAb,GAAA,aAAAC,KAAA,CAED,SAAAc,UAAUZ,KAAK,CAAEC,QAAQ,CAAE,KAAAY,MAAA,MACvB,MAAO,CAAAV,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACZ,QAAQ,YAAW,CACpCa,MAAM,CAAE,MAAM,CACdV,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtBY,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAACR,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAQ,CAAC,CAC1C,CAAC,CAAC,CAACQ,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAG,MAAI,CAACF,cAAc,CAACD,GAAG,CAAC,GAAC,CAC5C,CAAC,GAAAb,GAAA,cAAAC,KAAA,CAED,SAAAgB,WAAWC,KAAK,CAAE,KAAAC,MAAA,MACd,MAAO,CAAAb,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACZ,QAAQ,cAAa,CACtCa,MAAM,CAAE,KAAK,CACbV,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClCsB,aAAa,WAAAb,MAAA,CAAYW,KAAK,CAClC,CACJ,CAAC,CAAC,CAACN,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAM,MAAI,CAACL,cAAc,CAACD,GAAG,CAAC,GAAC,CAC5C,CAAC,GAAAb,GAAA,kBAAAC,KAAA,CAED,SAAAa,eAAeD,GAAG,CAAE,CAChB,MAAO,CAAAA,GAAG,CAACQ,EAAE,CACPR,GAAG,CAACS,IAAI,EAAE,CACVC,OAAO,CAACC,MAAM,IAAAjB,MAAA,CAAIM,GAAG,CAACY,MAAM,MAAAlB,MAAA,CAAIM,GAAG,CAACa,UAAU,EAAG,CAC3D,CAAC,WAAAlC,OAAA,KAGL,GAAM,CAAAmC,OAAO,CAAG,GAAI,CAAAnC,OAAO,CAAC,CACxBI,OAAO,CAAE,+BAA+B,CACxCE,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CAEF,cAAe,CAAA6B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}