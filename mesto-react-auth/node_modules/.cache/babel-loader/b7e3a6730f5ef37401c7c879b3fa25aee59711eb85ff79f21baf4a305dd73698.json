{"ast":null,"code":"import _slicedToArray from\"/Users/alina/dev/mesto-react-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import CurrentUserContext from'../contexts/CurrentUserContext';import PopupWithForm from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,onLoading=_ref.onLoading,isOpen=_ref.isOpen;//подписка на контекст\nvar currentUser=React.useContext(CurrentUserContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),about=_useState2[0],setAbout=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];useEffect(function(){setName(currentUser.name||\"\");setAbout(currentUser.about||\"\");},[currentUser,isOpen]);function handleSubmit(e){e.preventDefault();// передаем значения управляемых компонентов во внешний обработчик\nonUpdateUser({name:name,about:about});}function handleChangeName(e){setName(e.target.value);}function handleChangeAbout(e){setAbout(e.target.value);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:onLoading?\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u0438\\u0435\":\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onSubmit:handleSubmit,isOpen:isOpen,onClose:onClose,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_name\",id:\"name-input\",type:\"text\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true,value:name||\"\",onChange:handleChangeName}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-input-error\"}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_job\",id:\"job-input\",type:\"text\",name:\"about\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",minLength:\"2\",maxLength:\"200\",required:true,value:about||\"\",onChange:handleChangeAbout}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error job-input-error\"})]});}export default EditProfilePopup;","map":{"version":3,"names":["React","useState","useEffect","CurrentUserContext","PopupWithForm","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","onClose","onUpdateUser","onLoading","isOpen","currentUser","useContext","_useState","_useState2","_slicedToArray","about","setAbout","_useState3","_useState4","name","setName","handleSubmit","e","preventDefault","handleChangeName","target","value","handleChangeAbout","title","buttonText","onSubmit","children","className","id","type","placeholder","minLength","maxLength","required","onChange"],"sources":["/Users/alina/dev/mesto-react-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({ onClose, onUpdateUser, onLoading, isOpen }) {\n//подписка на контекст\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [about, setAbout] = useState('');\n    const [name, setName] = useState('');\n\n    useEffect(() => {\n        setName(currentUser.name || \"\");\n        setAbout(currentUser.about || \"\");\n    }, [currentUser, isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n// передаем значения управляемых компонентов во внешний обработчик\n        onUpdateUser({\n            name: name,\n            about: about,\n        });\n    }\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeAbout(e) {\n        setAbout(e.target.value);\n    }\n\n    return (\n        \n        <PopupWithForm\n            name=\"edit\"\n            title=\"Редактировать профиль\"\n            buttonText={onLoading ? `Сохранение` : `Сохранить`}\n            onSubmit={handleSubmit}\n            isOpen={isOpen}\n            onClose={onClose}>\n            <input\n                className=\"popup__input popup__input_type_name\"\n                id=\"name-input\"\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Имя\"\n                minLength=\"2\"\n                maxLength=\"40\"\n                required\n                value={name || \"\"}\n                onChange={handleChangeName}\n            />\n            <span className=\"popup__input-error name-input-error\" />\n            <input\n                className=\"popup__input popup__input_type_job\"\n                id=\"job-input\"\n                type=\"text\"\n                name=\"about\"\n                placeholder=\"О себе\"\n                minLength=\"2\"\n                maxLength=\"200\"\n                required\n                value={about || \"\"}\n                onChange={handleChangeAbout}\n            />\n            <span className=\"popup__input-error job-input-error\" />\n        </PopupWithForm>\n    )\n}\nexport default EditProfilePopup;"],"mappings":"uHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,kBAAkB,KAAM,gCAAgC,CAC/D,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,QAAS,CAAAC,gBAAgBA,CAAAC,IAAA,CAA+C,IAA5C,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAEC,YAAY,CAAAF,IAAA,CAAZE,YAAY,CAAEC,SAAS,CAAAH,IAAA,CAATG,SAAS,CAAEC,MAAM,CAAAJ,IAAA,CAANI,MAAM,CACpE;AACI,GAAM,CAAAC,WAAW,CAAGf,KAAK,CAACgB,UAAU,CAACb,kBAAkB,CAAC,CAExD,IAAAc,SAAA,CAA0BhB,QAAQ,CAAC,EAAE,CAAC,CAAAiB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAwBrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA7BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IAEpBrB,SAAS,CAAC,UAAM,CACZuB,OAAO,CAACV,WAAW,CAACS,IAAI,EAAI,EAAE,CAAC,CAC/BH,QAAQ,CAACN,WAAW,CAACK,KAAK,EAAI,EAAE,CAAC,CACrC,CAAC,CAAE,CAACL,WAAW,CAAED,MAAM,CAAC,CAAC,CAEzB,QAAS,CAAAY,YAAYA,CAACC,CAAC,CAAE,CACrBA,CAAC,CAACC,cAAc,EAAE,CAC1B;AACQhB,YAAY,CAAC,CACTY,IAAI,CAAEA,IAAI,CACVJ,KAAK,CAAEA,KACX,CAAC,CAAC,CACN,CAEA,QAAS,CAAAS,gBAAgBA,CAACF,CAAC,CAAE,CACzBF,OAAO,CAACE,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC,CAC3B,CAEA,QAAS,CAAAC,iBAAiBA,CAACL,CAAC,CAAE,CAC1BN,QAAQ,CAACM,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC,CAC5B,CAEA,mBAEIvB,KAAA,CAACJ,aAAa,EACVoB,IAAI,CAAC,MAAM,CACXS,KAAK,CAAC,2HAAuB,CAC7BC,UAAU,CAAErB,SAAS,wHAA8B,CACnDsB,QAAQ,CAAET,YAAa,CACvBZ,MAAM,CAAEA,MAAO,CACfH,OAAO,CAAEA,OAAQ,CAAAyB,QAAA,eACjB9B,IAAA,UACI+B,SAAS,CAAC,qCAAqC,CAC/CC,EAAE,CAAC,YAAY,CACfC,IAAI,CAAC,MAAM,CACXf,IAAI,CAAC,MAAM,CACXgB,WAAW,CAAC,oBAAK,CACjBC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,IAAI,CACdC,QAAQ,MACRZ,KAAK,CAAEP,IAAI,EAAI,EAAG,CAClBoB,QAAQ,CAAEf,gBAAiB,EAC7B,cACFvB,IAAA,SAAM+B,SAAS,CAAC,qCAAqC,EAAG,cACxD/B,IAAA,UACI+B,SAAS,CAAC,oCAAoC,CAC9CC,EAAE,CAAC,WAAW,CACdC,IAAI,CAAC,MAAM,CACXf,IAAI,CAAC,OAAO,CACZgB,WAAW,CAAC,iCAAQ,CACpBC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,KAAK,CACfC,QAAQ,MACRZ,KAAK,CAAEX,KAAK,EAAI,EAAG,CACnBwB,QAAQ,CAAEZ,iBAAkB,EAC9B,cACF1B,IAAA,SAAM+B,SAAS,CAAC,oCAAoC,EAAG,GAC3C,CAExB,CACA,cAAe,CAAA5B,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}